---
// Import statements for Astro optimized image handling
import { Image } from 'astro:assets';

// Define Props interface with TypeScript
interface Props {
  title: string;
  description: string;
  imageUrl?: string;
  imageAlt?: string;
  link?: string;
  tags?: string[];
}

// Destructure props with default values
const { 
  title, 
  description, 
  imageUrl, 
  imageAlt = 'Card image',
  link,
  tags = []
} = Astro.props;

// Computed properties for conditional rendering
const hasImage = !!imageUrl;
const isExternalLink = link?.startsWith('http');
---

<article class="card">
  {hasImage && imageUrl && (
    <div class="card__image">
      <img src={imageUrl} alt={imageAlt} loading="lazy" />
    </div>
  )}
  
  <div class="card__content">
    <h3 class="card__title">{title}</h3>
    <p class="card__description">{description}</p>
    
    {tags.length > 0 && (
      <ul class="card__tags">
        {tags.map((tag) => (
          <li class="card__tag">{tag}</li>
        ))}
      </ul>
    )}
    
    {link && (
      <a 
        href={link} 
        class="card__link"
        target={isExternalLink ? '_blank' : '_self'}
        rel={isExternalLink ? 'noopener noreferrer' : undefined}
      >
        Read more
      </a>
    )}
  </div>
</article>

<style>
  .card {
    display: flex;
    flex-direction: column;
    border-radius: 8px;
    overflow: hidden;
    background-color: white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s ease;
  }
  
  .card:hover {
    transform: translateY(-4px);
  }
  
  .card__image img {
    width: 100%;
    height: 200px;
    object-fit: cover;
  }
  
  .card__content {
    padding: 1.5rem;
  }
  
  .card__title {
    margin: 0 0 0.75rem;
    font-size: 1.5rem;
    color: #1a1a1a;
  }
  
  .card__description {
    margin: 0 0 1rem;
    color: #666;
    line-height: 1.6;
  }
  
  .card__tags {
    display: flex;
    gap: 0.5rem;
    margin: 0 0 1rem;
    padding: 0;
    list-style: none;
  }
  
  .card__tag {
    padding: 0.25rem 0.75rem;
    background-color: #f0f0f0;
    border-radius: 4px;
    font-size: 0.875rem;
  }
  
  .card__link {
    display: inline-block;
    color: #0066cc;
    text-decoration: none;
    font-weight: 500;
  }
  
  .card__link:hover {
    text-decoration: underline;
  }
</style>
